<div data-sticky-container class="product__row" itemscope itemtype="https://schema.org/Product" data-product-index="{{ product.id }}">
  <!-- meta start -->
  <meta itemprop="name" content="{{ product.meta_title ? product.meta_title : product.title }}" />
  <link itemprop="url" href="{{ this.page.url }}" />
  <link itemprop="image" href="{{ product.image|media }}" />
  {% if product.brand %}
  <meta itemprop="brand" content="{{ product.brand.title }}" />
  <meta itemprop="manufacturer" content="{{ product.brand.title }}" />
  {% endif %}
  <meta itemprop="model" content="{{ product.title }}" />
  <meta itemprop="gtin12" content="upc" />
  <meta itemprop="gtin8" content="ean" />
  <meta itemprop="productID" content="{{ product.code }}" />
  <meta itemprop="category" content="{{ product.categories[0].title }}" />
  <meta itemprop="description" content="{{ product.meta_description }}" />
  <!-- meta end -->
  <div class="product__body">
    <div class="product__slider" data-js="product-slider">
      <div class="product__tags">
        {% if product.is_new %}
        <div class="product__tag product__tag--new">New</div>
        {% endif %}
        {% if product.sale_price > 0 %}
        <div class="product__tag product__tag--sale">Sale</div>
        {% endif %}
      </div>
      <div class="product__slider-current">
        <div id="zoomImage" class="product__slider-wrap">
          <img src="{{ product.image|media }}" alt="{{ image.title }}" class="product__slider-image" />
        </div>
        <div class="product__slider-additional">
          <div class="product__slider-thumb product__slider-thumb">
            <img src="{{ product.image|media }}" alt="{{ product.title }}" class="product__slider-thumb-image" data-js-action="select-image" />
          </div>
          {% for image in product.gallery %}
          <div class="product__slider-thumb product__slider-thumb">
            <img src="{{ image.path }}" alt="{{ image.title }}" class="product__slider-thumb-image"  data-js-action="select-image" />
          </div>
          {% endfor %}
        </div>
      </div>

    </div>
    <div class="product__content">
      <div class="product__title">{{ product.title }}</div>
      <div class="product__categories-list">
        {% if product.categories[0] %}
        <a
          href="{{ 'category'|page({ slug: product.categories[0].slug }) }}"
          class="product__categories-link"
        >
        {{ product.categories[0].title }}
        </a>
        {% endif %}
      </div>
      <div class="product__code">Артикул {{ product.code }}</div>
      {% if product.props %}
      <div class="product__props product__props--full">
        {% for prop in product.props %}
        <div class="product__props-row">
          <div class="product__props-label">{{ prop.props_option }}</div>
          <div class="product__props-val">{{ prop.props_value }}</div>
        </div>
        {% endfor %}
      </div>
      {% endif %}
      <div class="product__entry product__entry--desktop">
        <div class="product__entry-title">Описание</div>
        <div class="product__entry-descr">
          {{ product.description|raw }}
        </div>
      </div>
    </div>
    <div class="product__bottom">
      <div class="product__order">
        <div class="product__order-row">
          <div class="product-price" itemprop="offers" itemscope itemtype="https://schema.org/Offer">
            {% if product.sale_price > 0 %}
            <div class="product-price__current">
              <strong class="product-price__val">{{ product.sale_price|number_format(0, '', ' ') }}</strong>
              <span class="product-price__label">₽</span>
            </div>
            <div class="product-price__old">
              <strong class="product-price__val">{{ product.price|number_format(0, '', ' ') }}</strong>
              <span class="product-price__label">₽</span>
            </div>
            {% else %}
            <div class="product-price__current">
              <strong class="product-price__val">{{ product.price|number_format(0, '', ' ') }}</strong>
              <span class="product-price__label">₽</span>
            </div>
            {% endif %}
            <meta itemprop="priceCurrency" content="RUB" />
            <meta itemprop="price" content="{{ product.sale_price ? product.sale_price : product.price }}" />
            <link itemprop="availability" href="https://schema.org/InStock" />
          </div>
          <div class="product-amount" data-js-action="update-qty">
            <button
              type="button"
              class="product-amount__btn js-remove-cart"
            >
              <svg
                viewBox="0 0 12 2"
                class="product-amount__btn-ico icon-minus "
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M0 1a1 1 0 0 1 1-1h10a1 1 0 1 1 0 2H1a1 1 0 0 1-1-1z"
                ></path>
              </svg></button
            ><input
              type="number"
              readonly="readonly"
              class="product-amount__val"
              value="1"
              data-js-action="qty-val"
            /><button
              type="button"
              class="product-amount__btn js-add-cart"
            >
              <svg
                viewBox="0 0 12 12"
                class="product-amount__btn-ico icon-plus "
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M7 1a1 1 0 0 0-2 0v4H1a1 1 0 0 0 0 2h4v4a1 1 0 1 0 2 0V7h4a1 1 0 1 0 0-2H7V1z"
                ></path>
              </svg>
            </button>
          </div>
        </div>
        <button
          type="button"
          class="product__add"
          data-product-id="{{ product.id }}"
          data-js-action="add-to-cart"
          data-product-amount="1"
        >
            В корзину<svg viewBox="0 0 16 16" class="product__add-ico icon-cart ">
            <path
              d="M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5z"
            ></path>
          </svg>
        </button>
      </div>
      <div class="product__props product__props--mobile">
        {% for prop in product.props %}
        <div class="product__props-row">
          <div class="product__props-label">{{ prop.props_option }}</div>
          <div class="product__props-val">{{ prop.props_value }}</div>
        </div>
        {% endfor %}
      </div>
      <div class="product__entry product__entry--mobile">
        <div class="product__entry-title">Описание</div>
        <div class="product__entry-descr">
          {{ product.description|raw }}
        </div>
      </div>
      <div class="product__folders">
        <div class="product__folders-title">Теги</div>
        <div class="product__folders-list">
          {% for tag in product.tags %}
            <a
              href="{{ 'category'|page({ slug: tag.slug }) }}"
              class="product__folders-link"
            >
              {{ tag.title }}
            </a>
          {% endfor %}
        </div>
      </div>
      <div class="product__folders">
        <div class="product__folders-title">Находится в разделах</div>
        <div class="product__folders-list">
          {% for cat in product.categories %}
          <a
            href="{{ 'category'|page({ slug: cat.slug }) }}"
            class="product__folders-link"
          >
          {{ cat.title }}
          </a>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
  <div
    data-sticky-for="991"
    data-margin-top="20"
    data-sticky-class="product__form--sticky"
    data-js="sticky"
    class="product__form"
  >
    <div class="product__form-title">Сделать заказ</div>
    <div class="product__form-tag">
      В наличие<svg
        viewBox="0 0 24 24"
        class="product__form-tag-ico icon-check "
      >
        <path
          d="M8.79508 15.875L4.62508 11.705L3.20508 13.115L8.79508 18.705L20.7951 6.705L19.3851 5.295L8.79508 15.875Z"
          fill="currentColor"
        ></path>
      </svg>
    </div>
    <div class="product-price">
      {% if product.sale_price > 0 %}
      <div class="product-price__current">
        <strong class="product-price__val">{{ product.sale_price|number_format(0, '', ' ') }}</strong>
        <span class="product-price__label">₽</span>
      </div>
      <div class="product-price__old">
        <strong class="product-price__val">{{ product.price|number_format(0, '', ' ') }}</strong>
        <span class="product-price__label">₽</span>
      </div>
      {% else %}
      <div class="product-price__current">
        <strong class="product-price__val">{{ product.price|number_format(0, '', ' ') }}</strong>
        <span class="product-price__label">₽</span>
      </div>
      {% endif %}
    </div>
    <div class="product-amount" data-js-action="update-qty">
      <button
        type="button"
        class="product-amount__btn js-remove-cart"
      >
        <svg viewBox="0 0 12 2" class="product-amount__btn-ico icon-minus ">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M0 1a1 1 0 0 1 1-1h10a1 1 0 1 1 0 2H1a1 1 0 0 1-1-1z"
          ></path>
        </svg></button
      ><input
        type="number"
        readonly="readonly"
        class="product-amount__val"
        value="1"
        data-js-action="qty-val"
      /><button type="button" class="product-amount__btn js-add-cart">
        <svg viewBox="0 0 12 12" class="product-amount__btn-ico icon-plus ">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M7 1a1 1 0 0 0-2 0v4H1a1 1 0 0 0 0 2h4v4a1 1 0 1 0 2 0V7h4a1 1 0 1 0 0-2H7V1z"
          ></path>
        </svg>
      </button>
    </div>
    <button
      type="button"
      class="product__add"
      data-product-id="{{ product.id }}"
      data-js-action="add-to-cart"
      data-product-amount="1"
    >
      В корзину<svg viewBox="0 0 16 16" class="product__add-ico icon-cart ">
        <path
          d="M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5z"
        ></path>
      </svg>
    </button>
  </div>
</div>
