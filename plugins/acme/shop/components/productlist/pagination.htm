
{% if pages > 1 %}
{% set leftLimit = 2 %}
{% set rightLimit = 3 %}

<button class="category__pagination-btn category__pagination-btn_first{{ currentPage == 1 ? ' category__pagination-btn_disabled' : '' }}" data-page="{{ currentPage - 1 }}" data-js-action="paginate">
  <svg class="category__pagination-ico" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M10.6195 0.990037C10.5034 0.873629 10.3655 0.781272 10.2136 0.718256C10.0617 0.65524 9.89893 0.622803 9.73451 0.622803C9.5701 0.622803 9.40729 0.65524 9.25543 0.718256C9.10357 0.781272 8.96563 0.873629 8.84951 0.990037L0.539515 9.30004C0.446811 9.39255 0.373263 9.50244 0.323082 9.62341C0.272901 9.74439 0.24707 9.87407 0.24707 10.005C0.24707 10.136 0.272901 10.2657 0.323082 10.3867C0.373263 10.5076 0.446811 10.6175 0.539515 10.71L8.84951 19.02C9.33951 19.51 10.1295 19.51 10.6195 19.02C11.1095 18.53 11.1095 17.74 10.6195 17.25L3.37951 10L10.6295 2.75004C11.1095 2.27004 11.1095 1.47004 10.6195 0.990037Z" fill="currentColor"/>
  </svg>
</button>
{% if pages < leftLimit + rightLimit + 2 %}
  {% for i in 1..pages %}
    <button class="category__pagination-btn{{ currentPage == i ? ' category__pagination-btn_current' : '' }}" data-page="{{ i }}" data-js-action="paginate">
      {{ i }}
    </button>
  {% endfor %}
{% else %}

{% if currentPage > leftLimit and currentPage < (pages - rightLimit) %}

{% set i = currentPage - leftLimit %}
    {% if currentPage > 3 %}
    <button class="category__pagination-btn">...</button>
    {% endif %}
{% for i in i..(currentPage + rightLimit) %}
  <button class="category__pagination-btn{{ currentPage == i ? ' category__pagination-btn_current' : '' }}" data-page="{{ i }}" data-js-action="paginate">
    {{ i }}
  </button>
{% endfor %}
  <button class="category__pagination-btn">...</button>
{% elseif currentPage <= leftLimit%}

{% set iSlice = 1 + leftLimit - currentPage %}

{% for i in 1..(currentPage + (rightLimit + iSlice)) %}
  <button class="category__pagination-btn{{ currentPage == i ? ' category__pagination-btn_current' : '' }}" data-page="{{ i }}" data-js-action="paginate">
    {{ i }}
  </button>
{% endfor %}
  <button class="category__pagination-btn">...</button>
  <button class="category__pagination-btn" data-page="{{ pages }}" data-js-action="paginate">
    {{ pages }}
  </button>
{% else %}

{% set iSlice = rightLimit - (pages - currentPage) %}

{% set i = currentPage - (leftLimit + iSlice) %}
  <button class="category__pagination-btn">...</button>
{% for i in i..pages %}
  <button class="category__pagination-btn{{ currentPage == i ? ' category__pagination-btn_current' : '' }}" data-page="{{ i }}" data-js-action="paginate">
    {{ i }}
  </button>
{% endfor %}

{% endif %}

{% endif %}

<button class="category__pagination-btn category__pagination-btn_end{{ pages == currentPage ? ' category__pagination-btn_disabled' : '' }}" data-page="{{ currentPage + 1 }}" data-js-action="paginate">
  <svg class="category__pagination-ico" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M10.6195 0.990037C10.5034 0.873629 10.3655 0.781272 10.2136 0.718256C10.0617 0.65524 9.89893 0.622803 9.73451 0.622803C9.5701 0.622803 9.40729 0.65524 9.25543 0.718256C9.10357 0.781272 8.96563 0.873629 8.84951 0.990037L0.539515 9.30004C0.446811 9.39255 0.373263 9.50244 0.323082 9.62341C0.272901 9.74439 0.24707 9.87407 0.24707 10.005C0.24707 10.136 0.272901 10.2657 0.323082 10.3867C0.373263 10.5076 0.446811 10.6175 0.539515 10.71L8.84951 19.02C9.33951 19.51 10.1295 19.51 10.6195 19.02C11.1095 18.53 11.1095 17.74 10.6195 17.25L3.37951 10L10.6295 2.75004C11.1095 2.27004 11.1095 1.47004 10.6195 0.990037Z" fill="currentColor"/>
  </svg>
</button>
{% endif %}
